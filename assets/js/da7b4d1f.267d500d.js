(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{83:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return i})),t.d(n,"toc",(function(){return l})),t.d(n,"default",(function(){return b}));var r=t(3),a=t(7),s=(t(0),t(88)),c={id:"api",title:"API",sidebar_label:"API"},i={unversionedId:"api",id:"api",isDocsHomePage:!1,title:"API",description:"\u5982\u4f55\u8c03\u7528\u63a5\u53e3",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/API.md",slug:"/api",permalink:"/fiora/docs/api",editUrl:"https://github.com/yinxin630/fiora/edit/master/docs/docs/API.md",version:"current",sidebar_label:"API"},l=[{value:"\u5982\u4f55\u8c03\u7528\u63a5\u53e3",id:"\u5982\u4f55\u8c03\u7528\u63a5\u53e3",children:[]},{value:"\u8fd4\u56de\u6570\u636e\u7ed3\u6784\u5b9a\u4e49",id:"\u8fd4\u56de\u6570\u636e\u7ed3\u6784\u5b9a\u4e49",children:[{value:"User",id:"user",children:[]},{value:"Group",id:"group",children:[]},{value:"Message",id:"message",children:[]}]},{value:"\u63a5\u53e3\u5217\u8868",id:"\u63a5\u53e3\u5217\u8868",children:[{value:"\u7528\u6237\u6ce8\u518c",id:"\u7528\u6237\u6ce8\u518c",children:[]},{value:"\u7528\u6237\u767b\u5f55",id:"\u7528\u6237\u767b\u5f55",children:[]},{value:"\u514d\u5bc6\u767b\u5f55 / \u65ad\u7ebf\u91cd\u8fde",id:"\u514d\u5bc6\u767b\u5f55--\u65ad\u7ebf\u91cd\u8fde",children:[]},{value:"\u6e38\u5ba2\u767b\u5f55",id:"\u6e38\u5ba2\u767b\u5f55",children:[]},{value:"\u4fee\u6539\u5934\u50cf",id:"\u4fee\u6539\u5934\u50cf",children:[]},{value:"\u6dfb\u52a0\u597d\u53cb",id:"\u6dfb\u52a0\u597d\u53cb",children:[]},{value:"\u5220\u9664\u597d\u53cb",id:"\u5220\u9664\u597d\u53cb",children:[]},{value:"\u4fee\u6539\u5bc6\u7801",id:"\u4fee\u6539\u5bc6\u7801",children:[]},{value:"\u4fee\u6539\u7528\u6237\u540d",id:"\u4fee\u6539\u7528\u6237\u540d",children:[]},{value:"\u91cd\u7f6e\u6307\u5b9a\u7528\u6237\u5bc6\u7801",id:"\u91cd\u7f6e\u6307\u5b9a\u7528\u6237\u5bc6\u7801",children:[]},{value:"\u53d1\u9001\u6d88\u606f",id:"\u53d1\u9001\u6d88\u606f",children:[]},{value:"\u83b7\u53d6\u8054\u7cfb\u4eba\u6700\u540e\u6d88\u606f",id:"\u83b7\u53d6\u8054\u7cfb\u4eba\u6700\u540e\u6d88\u606f",children:[]},{value:"\u83b7\u53d6\u8054\u7cfb\u4eba\u5386\u53f2\u6d88\u606f",id:"\u83b7\u53d6\u8054\u7cfb\u4eba\u5386\u53f2\u6d88\u606f",children:[]},{value:"\u83b7\u53d6\u9ed8\u8ba4\u7fa4\u7ec4\u7684\u5386\u53f2\u6d88\u606f",id:"\u83b7\u53d6\u9ed8\u8ba4\u7fa4\u7ec4\u7684\u5386\u53f2\u6d88\u606f",children:[]},{value:"\u521b\u5efa\u7fa4\u7ec4",id:"\u521b\u5efa\u7fa4\u7ec4",children:[]},{value:"\u52a0\u5165\u7fa4\u7ec4",id:"\u52a0\u5165\u7fa4\u7ec4",children:[]},{value:"\u9000\u51fa\u7fa4\u7ec4",id:"\u9000\u51fa\u7fa4\u7ec4",children:[]},{value:"\u83b7\u53d6\u7fa4\u7ec4\u5728\u7ebf\u7528\u6237\u5217\u8868",id:"\u83b7\u53d6\u7fa4\u7ec4\u5728\u7ebf\u7528\u6237\u5217\u8868",children:[]},{value:"\u83b7\u53d6\u9ed8\u8ba4\u7fa4\u7ec4\u5728\u7ebf\u7528\u6237\u5217\u8868",id:"\u83b7\u53d6\u9ed8\u8ba4\u7fa4\u7ec4\u5728\u7ebf\u7528\u6237\u5217\u8868",children:[]},{value:"\u4fee\u6539\u7fa4\u5934\u50cf",id:"\u4fee\u6539\u7fa4\u5934\u50cf",children:[]},{value:"\u83b7\u53d6\u4e03\u725b\u524d\u7aef\u6587\u4ef6\u4e0a\u4f20 token",id:"\u83b7\u53d6\u4e03\u725b\u524d\u7aef\u6587\u4ef6\u4e0a\u4f20-token",children:[]},{value:"\u641c\u7d22\u7528\u6237/\u7fa4\u7ec4",id:"\u641c\u7d22\u7528\u6237\u7fa4\u7ec4",children:[]},{value:"\u641c\u7d22\u8868\u60c5\u5305",id:"\u641c\u7d22\u8868\u60c5\u5305",children:[]},{value:"\u83b7\u53d6\u767e\u5ea6\u8bed\u8a00\u5408\u6210 token",id:"\u83b7\u53d6\u767e\u5ea6\u8bed\u8a00\u5408\u6210-token",children:[]},{value:"\u5c01\u7981\u7528\u6237",id:"\u5c01\u7981\u7528\u6237",children:[]},{value:"\u83b7\u53d6\u5c01\u7981\u7528\u6237\u5217\u8868",id:"\u83b7\u53d6\u5c01\u7981\u7528\u6237\u5217\u8868",children:[]},{value:"\u4e0a\u4f20\u6587\u4ef6\u5230\u670d\u52a1\u7aef",id:"\u4e0a\u4f20\u6587\u4ef6\u5230\u670d\u52a1\u7aef",children:[]}]}],o={toc:l};function b(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(s.b)("wrapper",Object(r.a)({},o,t,{components:n,mdxType:"MDXLayout"}),Object(s.b)("h2",{id:"\u5982\u4f55\u8c03\u7528\u63a5\u53e3"},"\u5982\u4f55\u8c03\u7528\u63a5\u53e3"),Object(s.b)("p",null,"fiora \u540e\u7aef\u57fa\u4e8e socket.io, \u9996\u5148\u9700\u8981\u4e0e\u540e\u7aef\u5efa\u7acb\u8fde\u63a5"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"import IO from 'socket.io-client';\nconst socket = new IO(serverAddrress, options);\n")),Object(s.b)("p",null,"\u63a5\u53e3\u8c03\u7528\u683c\u5f0f\u4e3a"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(event, data, callback);\n")),Object(s.b)("p",null,"\u53c2\u6570\u8bf4\u660e"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"event {string} \u63a5\u53e3\u540d/\u4e8b\u4ef6\u540d"),Object(s.b)("li",{parentName:"ul"},"data {object} \u63a5\u53e3\u5165\u53c2"),Object(s.b)("li",{parentName:"ul"},"callback {string|object => void} \u63a5\u53e3\u56de\u8c03, \u8fd4\u56de string \u8868\u793a\u63a5\u53e3\u5931\u8d25, string \u5185\u5bb9\u4e3a\u5931\u8d25\u539f\u56e0, \u53cd\u6b63 object \u8868\u793a\u63a5\u53e3\u6210\u529f, \u91cc\u9762\u5305\u542b\u8fd4\u56de\u6570\u636e")),Object(s.b)("h2",{id:"\u8fd4\u56de\u6570\u636e\u7ed3\u6784\u5b9a\u4e49"},"\u8fd4\u56de\u6570\u636e\u7ed3\u6784\u5b9a\u4e49"),Object(s.b)("h3",{id:"user"},"User"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"{\n    _id, // {string} id\n    username, // {string} \u7528\u6237\u540d\n    avatar, // {string} \u5934\u50cf\n    groups, // {[Group]} \u7fa4\u7ec4\u5217\u8868\n    friends, // {[User]} \u597d\u53cb\u5217\u8868\n    token, // {string} \u514d\u5bc6\u767b\u5f55token\n    isAdmin, // {boolean} \u662f\u5426\u4e3a\u7ba1\u7406\u5458\n}\n")),Object(s.b)("h3",{id:"group"},"Group"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"{\n    _id, // {string} id\n    name, // {string} \u7fa4\u7ec4\u540d\n    avatar, // {string} \u5934\u50cf\n    creator, // {User ID} \u7fa4\u4e3bid\n    isDefault, // {boolean} \u662f\u5426\u4e3a\u9ed8\u8ba4\u7fa4\n    members, // {[User]} \u6210\u5458\u5217\u8868\n    messages, // {[Message]} \u6d88\u606f\u5217\u8868\n}\n")),Object(s.b)("h3",{id:"message"},"Message"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"{\n    _id, // {string} id\n    from, // {User} \u53d1\u9001\u8005\n    to, // {string} \u7fa4\u804a: \u7fa4id, \u79c1\u804a: \u4e24\u4ebaid\u62fc\u63a5, \u6309\u5b57\u7b26\u4e32\u6bd4\u8f83, \u5c0f\u7684\u5728\u524d\n    type, // {string} \u6d88\u606f\u7c7b\u578b ['text', 'image', 'code', 'invite']\n    content, // {string} \u6d88\u606f\u5185\u5bb9\n}\n")),Object(s.b)("h2",{id:"\u63a5\u53e3\u5217\u8868"},"\u63a5\u53e3\u5217\u8868"),Object(s.b)("h3",{id:"\u7528\u6237\u6ce8\u518c"},"\u7528\u6237\u6ce8\u518c"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'register',\n    {\n        username, // {string} \u7528\u6237\u540d\n        password, // {string} \u5bc6\u7801\n        os, // {string} \u64cd\u4f5c\u7cfb\u7edf\n        browser, // {string} \u6d4f\u89c8\u5668\n        environment, // {string} \u73af\u5883\u4fe1\u606f\n    },\n    (user) => {}, // {User} \u7528\u6237\u6570\u636e\n);\n")),Object(s.b)("h3",{id:"\u7528\u6237\u767b\u5f55"},"\u7528\u6237\u767b\u5f55"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'login',\n    {\n        username, // {string} \u7528\u6237\u540d\n        password, // {string} \u5bc6\u7801\n        os, // {string} \u64cd\u4f5c\u7cfb\u7edf\n        browser, // {string} \u6d4f\u89c8\u5668\n        environment, // {string} \u73af\u5883\u4fe1\u606f\n    },\n    (user) => {}, // {User} \u7528\u6237\u6570\u636e\n);\n")),Object(s.b)("h3",{id:"\u514d\u5bc6\u767b\u5f55--\u65ad\u7ebf\u91cd\u8fde"},"\u514d\u5bc6\u767b\u5f55 / \u65ad\u7ebf\u91cd\u8fde"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'loginByToken',\n    {\n        token, // {string} \u514d\u5bc6\u767b\u5f55token\n        os, // {string} \u64cd\u4f5c\u7cfb\u7edf\n        browser, // {string} \u6d4f\u89c8\u5668\n        environment, // {string} \u73af\u5883\u4fe1\u606f\n    },\n    (user) => {}, // {User} \u7528\u6237\u6570\u636e\n);\n")),Object(s.b)("h3",{id:"\u6e38\u5ba2\u767b\u5f55"},"\u6e38\u5ba2\u767b\u5f55"),Object(s.b)("p",null,"\u6e38\u5ba2\u4ec5\u80fd\u83b7\u53d6\u5230\u9ed8\u8ba4\u7fa4\u7ec4"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'guest',\n    {\n        os, // {string} \u64cd\u4f5c\u7cfb\u7edf\n        browser, // {string} \u6d4f\u89c8\u5668\n        environment, // {string} \u73af\u5883\u4fe1\u606f\n    },\n    (defaultGroup) => {}, // {Group} \u9ed8\u8ba4\u7fa4\u7ec4\u6570\u636e\n);\n")),Object(s.b)("h3",{id:"\u4fee\u6539\u5934\u50cf"},"\u4fee\u6539\u5934\u50cf"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'changeAvatar',\n    {\n        avatar, // {string} \u65b0\u5934\u50cfurl\n    },\n    () => {}, // {Object} \u8fd4\u56de\u7a7a\u5bf9\u8c61\n);\n")),Object(s.b)("h3",{id:"\u6dfb\u52a0\u597d\u53cb"},"\u6dfb\u52a0\u597d\u53cb"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'addFriend',\n    {\n        userId, // {User ID} \u76ee\u6807\u7684id\n    },\n    (friend) => {}, // {User} \u597d\u53cb\u4fe1\u606f\n);\n")),Object(s.b)("h3",{id:"\u5220\u9664\u597d\u53cb"},"\u5220\u9664\u597d\u53cb"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'deleteFriend',\n    {\n        userId, // {User ID} \u76ee\u6807\u7684id\n    },\n    () => {}, // {Object} \u8fd4\u56de\u7a7a\u5bf9\u8c61\n);\n")),Object(s.b)("h3",{id:"\u4fee\u6539\u5bc6\u7801"},"\u4fee\u6539\u5bc6\u7801"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'changePassword',\n    {\n        oldPassword, // {string} \u65e7\u5bc6\u7801\n        newPassword, // {string} \u65b0\u5bc6\u7801\n    },\n    () => {}, // {Object} \u8fd4\u56de\u7a7a\u5bf9\u8c61\n);\n")),Object(s.b)("h3",{id:"\u4fee\u6539\u7528\u6237\u540d"},"\u4fee\u6539\u7528\u6237\u540d"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'changeUsername',\n    {\n        username, // {string} \u65b0\u7528\u6237\u540d\n    },\n    () => {}, // {Object} \u8fd4\u56de\u7a7a\u5bf9\u8c61\n);\n")),Object(s.b)("h3",{id:"\u91cd\u7f6e\u6307\u5b9a\u7528\u6237\u5bc6\u7801"},"\u91cd\u7f6e\u6307\u5b9a\u7528\u6237\u5bc6\u7801"),Object(s.b)("p",null,"\u4ec5\u7ba1\u7406\u5458\u53ef\u8c03\u7528"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'resetUserPassword',\n    {\n        username, // {string} \u65b0\u7528\u6237\u540d\n    },\n    (data) => { // {Object} \u8fd4\u56de\u6570\u636e\n        data.newPassword, // {string} \u65b0\u5bc6\u7801\n    },\n);\n")),Object(s.b)("h3",{id:"\u53d1\u9001\u6d88\u606f"},"\u53d1\u9001\u6d88\u606f"),Object(s.b)("p",null,"\u901a\u8fc7 to \u5b57\u6bb5\u5224\u65ad\u662f\u53d1\u9001\u7ed9\u7fa4, \u8fd8\u662f\u53d1\u9001\u7ed9\u4e2a\u4eba\n\u53d1\u9001\u7fa4\u7684\u8bdd, to \u5c31\u662f\u7fa4 id\n\u53d1\u9001\u4e2a\u4eba\u7684\u8bdd, to \u5c31\u662f\u4e24\u4e2a\u4eba\u7684 id \u62fc\u63a5, \u6309\u5b57\u7b26\u4e32\u6bd4\u8f83\u7ed3\u679c, \u5c0f\u7684\u5728\u524d\u5927\u7684\u5728\u540e"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'sendMessage',\n    {\n        to, // {string} \u76ee\u6807\u7fa4\u7ec4, \u6216\u8005\u4fe9\u7528\u6237id\u62fc\u63a5\u7ed3\u679c\n        type, // {string} \u6d88\u606f\u7c7b\u578b\n        content, // {string} \u6d88\u606f\u5185\u5bb9\n    },\n    (message) => {}, // {Message} \u65b0\u6d88\u606f\n);\n")),Object(s.b)("h3",{id:"\u83b7\u53d6\u8054\u7cfb\u4eba\u6700\u540e\u6d88\u606f"},"\u83b7\u53d6\u8054\u7cfb\u4eba\u6700\u540e\u6d88\u606f"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'getLinkmansLastMessages',\n    {\n        linkmans, // {[string]} \u8054\u7cfb\u4ebaid\u5217\u8868, \u4e0eto\u540c\u89c4\u5219\n    },\n    (messages) => {}, // {object} \u6240\u6709\u8054\u7cfb\u4eba\u7684\u6700\u540e\u6d88\u606f, key: \u8054\u7cfb\u4ebaid, value: [Message] \u6d88\u606f\u5217\u8868\n);\n")),Object(s.b)("h3",{id:"\u83b7\u53d6\u8054\u7cfb\u4eba\u5386\u53f2\u6d88\u606f"},"\u83b7\u53d6\u8054\u7cfb\u4eba\u5386\u53f2\u6d88\u606f"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'getLinkmanHistoryMessages',\n    {\n        linkmanId, // {string} \u8054\u7cfb\u4ebaid\n        existCount, // {number} \u5df2\u6709\u6d88\u606f\u6570\u91cf\n    },\n    (messages) => {}, // {[Message]} \u6d88\u606f\u5217\u8868\n);\n")),Object(s.b)("h3",{id:"\u83b7\u53d6\u9ed8\u8ba4\u7fa4\u7ec4\u7684\u5386\u53f2\u6d88\u606f"},"\u83b7\u53d6\u9ed8\u8ba4\u7fa4\u7ec4\u7684\u5386\u53f2\u6d88\u606f"),Object(s.b)("p",null,"\u4e0d\u9700\u8981\u767b\u5f55\u6001"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'getDefaultGroupHistoryMessages',\n    {\n        existCount, // {number} \u5df2\u6709\u6d88\u606f\u6570\u91cf\n    },\n    (messages) => {}, // {[Message]} \u6d88\u606f\u5217\u8868\n);\n")),Object(s.b)("h3",{id:"\u521b\u5efa\u7fa4\u7ec4"},"\u521b\u5efa\u7fa4\u7ec4"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'createGroup',\n    {\n        name, // {string} \u7fa4\u7ec4\u540d\n    },\n    (group) => {}, // {Group} \u65b0\u521b\u5efa\u7684\u7fa4\u7ec4\n);\n")),Object(s.b)("h3",{id:"\u52a0\u5165\u7fa4\u7ec4"},"\u52a0\u5165\u7fa4\u7ec4"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'joinGroup',\n    {\n        groupId, // {Group ID} \u76ee\u6807\u7fa4id\n    },\n    (group) => {}, // {Group} \u65b0\u521b\u5efa\u7684\u7fa4\u7ec4\n);\n")),Object(s.b)("h3",{id:"\u9000\u51fa\u7fa4\u7ec4"},"\u9000\u51fa\u7fa4\u7ec4"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'leaveGroup',\n    {\n        groupId, // {Group ID} \u76ee\u6807\u7fa4id\n    },\n    () => {}, // {object} \u8fd4\u56de\u7a7a\u6570\u636e\n);\n")),Object(s.b)("h3",{id:"\u83b7\u53d6\u7fa4\u7ec4\u5728\u7ebf\u7528\u6237\u5217\u8868"},"\u83b7\u53d6\u7fa4\u7ec4\u5728\u7ebf\u7528\u6237\u5217\u8868"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'getGroupOnlineMembers',\n    {\n        groupId, // {Group ID} \u76ee\u6807\u7fa4id\n    },\n    (users) => {}, // {[User]} \u5728\u7ebf\u7528\u6237\u5217\u8868\n);\n")),Object(s.b)("h3",{id:"\u83b7\u53d6\u9ed8\u8ba4\u7fa4\u7ec4\u5728\u7ebf\u7528\u6237\u5217\u8868"},"\u83b7\u53d6\u9ed8\u8ba4\u7fa4\u7ec4\u5728\u7ebf\u7528\u6237\u5217\u8868"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'getDefaultGroupOnlineMembers',\n    {},\n    (users) => {}, // {[User]} \u5728\u7ebf\u7528\u6237\u5217\u8868\n);\n")),Object(s.b)("h3",{id:"\u4fee\u6539\u7fa4\u5934\u50cf"},"\u4fee\u6539\u7fa4\u5934\u50cf"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'changeGroupAvatar',\n    {\n        groupId, // {Group ID} \u76ee\u6807\u7fa4id\n        avatar, // {string} \u65b0\u5934\u50cfurl\n    },\n    () => {}, // {object} \u8fd4\u56de\u7a7a\u6570\u636e\n);\n")),Object(s.b)("h3",{id:"\u83b7\u53d6\u4e03\u725b\u524d\u7aef\u6587\u4ef6\u4e0a\u4f20-token"},"\u83b7\u53d6\u4e03\u725b\u524d\u7aef\u6587\u4ef6\u4e0a\u4f20 token"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'uploadToken',\n    { },\n    (data) => {\n        // \u670d\u52a1\u7aef\u652f\u6301\u4e03\u725b\n        data.token, // \u4e0a\u4f20token\n        data.urlPrefix, // \u6587\u4ef6\u4e0a\u4f20\u540e\u7684\u8def\u5f84\u524d\u7f00\n\n        // \u670d\u52a1\u7aef\u4e0d\u652f\u6301\u4e03\u725b\n        data.useUploadFile, // \u4e0d\u652f\u6301\u4e0a\u4f20\u4e03\u725b, \u9700\u8981\u5ba2\u6237\u7aef\u8c03\u7528 uploadFile \u4e0a\u4f20\u6587\u4ef6\u5230\u670d\u52a1\u7aef\n    },\n);\n")),Object(s.b)("h3",{id:"\u641c\u7d22\u7528\u6237\u7fa4\u7ec4"},"\u641c\u7d22\u7528\u6237/\u7fa4\u7ec4"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'search',\n    {\n        keywords, // {string} \u641c\u7d22\u5173\u952e\u5b57\n    },\n    (data) => {\n        data.users, // {[User]} \u547d\u4e2d\u7684\u7528\u6237\n        data.groups, // {[Group]} \u547d\u4e2d\u7684\u7fa4\u7ec4\n    },\n);\n")),Object(s.b)("h3",{id:"\u641c\u7d22\u8868\u60c5\u5305"},"\u641c\u7d22\u8868\u60c5\u5305"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'searchExpression',\n    {\n        keywords, // {string} \u641c\u7d22\u5173\u952e\u5b57\n    },\n    (imageUrls) => {}, // {[string]} \u56fe\u7247\u5217\u8868\n);\n")),Object(s.b)("h3",{id:"\u83b7\u53d6\u767e\u5ea6\u8bed\u8a00\u5408\u6210-token"},"\u83b7\u53d6\u767e\u5ea6\u8bed\u8a00\u5408\u6210 token"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'getBaiduToken',\n    { },\n    (data) => {\n        data.token, // {string} token\n    },\n);\n")),Object(s.b)("h3",{id:"\u5c01\u7981\u7528\u6237"},"\u5c01\u7981\u7528\u6237"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'sealUser',\n    {\n        username, // {string} \u8981\u5c01\u7981\u7684\u7528\u6237\u540d\n    },\n    () => {}, // {object} \u8fd4\u56de\u7a7a\u6570\u636e\n);\n")),Object(s.b)("h3",{id:"\u83b7\u53d6\u5c01\u7981\u7528\u6237\u5217\u8868"},"\u83b7\u53d6\u5c01\u7981\u7528\u6237\u5217\u8868"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'getSealList',\n    {},\n    (users) => {}, // {[string]} \u88ab\u5c01\u7981\u7684\u7528\u6237\u540d\u5217\u8868\n);\n")),Object(s.b)("h3",{id:"\u4e0a\u4f20\u6587\u4ef6\u5230\u670d\u52a1\u7aef"},"\u4e0a\u4f20\u6587\u4ef6\u5230\u670d\u52a1\u7aef"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"socket.emit(\n    'uploadFile',\n    {\n        fileName, // {string} \u6587\u4ef6\u540d\n        file, // {blob} \u6587\u4ef6\u5185\u5bb9, blob\u683c\u5f0f\n    },\n    (data) => {\n        data.url, // \u6587\u4ef6url\n    },\n);\n")))}b.isMDXComponent=!0},88:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return g}));var r=t(0),a=t.n(r);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var o=a.a.createContext({}),b=function(e){var n=a.a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=b(e.components);return a.a.createElement(o.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},p=a.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,c=e.parentName,o=l(e,["components","mdxType","originalType","parentName"]),u=b(t),p=r,g=u["".concat(c,".").concat(p)]||u[p]||d[p]||s;return t?a.a.createElement(g,i(i({ref:n},o),{},{components:t})):a.a.createElement(g,i({ref:n},o))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,c=new Array(s);c[0]=p;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,c[1]=i;for(var o=2;o<s;o++)c[o]=t[o];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);